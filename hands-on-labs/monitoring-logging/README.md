# Kubernetesãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãƒ»ãƒ­ã‚®ãƒ³ã‚° ãƒãƒ³ã‚ºã‚ªãƒ³æ¼”ç¿’

## æ¦‚è¦

ã“ã®ãƒãƒ³ã‚ºã‚ªãƒ³æ¼”ç¿’ã§ã¯ã€å®Ÿéš›ã«Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã§ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã¨ãƒ­ã‚®ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã—ã€é‹ç”¨ã‚’ä½“é¨“ã—ã¾ã™ã€‚

## å‰ææ¡ä»¶

- Minikube ã¾ãŸã¯ Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãŒç¨¼åƒä¸­
- kubectl ãŒè¨­å®šæ¸ˆã¿
- 8GBä»¥ä¸Šã®ãƒ¡ãƒ¢ãƒªæ¨å¥¨
- Helm 3.x ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿

## æ¼”ç¿’å†…å®¹

### Phase 1: åŸºæœ¬ãƒ­ã‚°æ“ä½œãƒã‚¹ã‚¿ãƒ¼
- kubectl logs ã®å„ç¨®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç¿’å¾—
- ãƒ­ã‚°ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã¨ã‚°ãƒ¬ãƒƒãƒ—æŠ€è¡“
- ãƒãƒ«ãƒã‚³ãƒ³ãƒ†ãƒŠPodã®ãƒ­ã‚°å–å¾—

### Phase 2: ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±•é–‹
- Node.js Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- æ§‹é€ åŒ–ãƒ­ã‚°ã®å®Ÿè£…

### Phase 3: ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒ¬ãƒ™ãƒ«ãƒ­ã‚®ãƒ³ã‚°æ§‹ç¯‰
- EFK (Elasticsearch + Fluentd + Kibana) ã‚¹ã‚¿ãƒƒã‚¯
- ãƒ­ã‚°åé›†è¨­å®šã¨ãƒ‘ãƒ¼ã‚·ãƒ³ã‚°
- Kibana ã§ã®ãƒ­ã‚°å¯è¦–åŒ–

### Phase 4: Prometheusãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°å®Ÿè£…
- Prometheus Operator å°å…¥
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
- Grafana ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ä½œæˆ

### Phase 5: ã‚¢ãƒ©ãƒ¼ãƒˆã¨ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- PrometheusRule ã«ã‚ˆã‚‹ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š
- å®Ÿéš›ã®éšœå®³ã‚·ãƒŠãƒªã‚ªå¯¾å¿œ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹èª¿æŸ»æŠ€è¡“

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
monitoring-logging/
â”œâ”€â”€ README.md                           # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ phase1-basic-logging/               # Phase 1: åŸºæœ¬ãƒ­ã‚°æ“ä½œ
â”‚   â”œâ”€â”€ exercises/                      # æ¼”ç¿’ç”¨ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ
â”‚   â””â”€â”€ solutions/                      # è§£ç­”ä¾‹
â”œâ”€â”€ phase2-sample-app/                  # Phase 2: ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒª
â”‚   â”œâ”€â”€ app/                           # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚½ãƒ¼ã‚¹
â”‚   â”œâ”€â”€ manifests/                     # Kubernetesãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ
â”‚   â””â”€â”€ README.md                      # Phase 2 ã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ phase3-cluster-logging/             # Phase 3: ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒ¬ãƒ™ãƒ«ãƒ­ã‚®ãƒ³ã‚°
â”‚   â”œâ”€â”€ elasticsearch/                 # Elasticsearchè¨­å®š
â”‚   â”œâ”€â”€ fluentd/                      # Fluentdè¨­å®š
â”‚   â”œâ”€â”€ kibana/                       # Kibanaè¨­å®š
â”‚   â””â”€â”€ README.md                     # Phase 3 ã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ phase4-prometheus-monitoring/       # Phase 4: Prometheusãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°
â”‚   â”œâ”€â”€ prometheus/                    # Prometheusè¨­å®š
â”‚   â”œâ”€â”€ grafana/                      # Grafanaè¨­å®š
â”‚   â”œâ”€â”€ exporters/                    # å„ç¨®Exporter
â”‚   â””â”€â”€ README.md                     # Phase 4 ã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ phase5-alerting-troubleshooting/    # Phase 5: ã‚¢ãƒ©ãƒ¼ãƒˆãƒ»ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
â”‚   â”œâ”€â”€ alertmanager/                 # Alertmanagerè¨­å®š
â”‚   â”œâ”€â”€ rules/                        # PrometheusRule
â”‚   â”œâ”€â”€ scenarios/                    # éšœå®³ã‚·ãƒŠãƒªã‚ª
â”‚   â””â”€â”€ README.md                     # Phase 5 ã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ scripts/                           # ä¾¿åˆ©ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ setup.sh                      # ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”‚   â”œâ”€â”€ cleanup.sh                    # ç’°å¢ƒã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
â”‚   â””â”€â”€ check-cluster.sh              # ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼çŠ¶æ…‹ç¢ºèª
â””â”€â”€ docs/                             # è¿½åŠ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    â”œâ”€â”€ troubleshooting.md            # ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰
    â”œâ”€â”€ best-practices.md             # ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
    â””â”€â”€ references.md                 # å‚è€ƒè³‡æ–™
```

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

1. **ç’°å¢ƒç¢ºèª**
   ```bash
   ./scripts/check-cluster.sh
   ```

2. **Phase 1ã‹ã‚‰é †ç•ªã«å®Ÿè¡Œ**
   ```bash
   cd phase1-basic-logging
   cat README.md
   ```

3. **å¿…è¦ã«å¿œã˜ã¦ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—**
   ```bash
   ./scripts/cleanup.sh
   ```

## å­¦ç¿’ã®é€²ã‚æ–¹

1. å„Phaseã¯é †ç•ªã«å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚’æ¨å¥¨
2. å„Phaseã®README.mdã§è©³ç´°ãªæ‰‹é †ã‚’ç¢ºèª
3. å®Ÿéš›ã«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ç†è§£ã‚’æ·±ã‚ã‚‹
4. ãƒˆãƒ©ãƒ–ãƒ«ãŒç™ºç”Ÿã—ãŸå ´åˆã¯docs/troubleshooting.mdã‚’å‚ç…§

## ã‚µãƒãƒ¼ãƒˆ

æ¼”ç¿’ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š
- docs/troubleshooting.md
- å„Phaseã®README.md
- Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®çŠ¶æ…‹

---
**Happy Learning! ğŸš€**
